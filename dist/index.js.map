{"version":3,"file":"index.js","sources":["../src/globals.ts","../src/animation-factory.tsx","../src/components/Animation.tsx","../src/components/Rotate.tsx","../src/components/FadeIn.tsx","../src/components/FadeOut.tsx"],"sourcesContent":["import styled from 'styled-components'\n\nconst config = {\n  durationMs: {\n    fast: 500,\n    medium: 1000,\n    slow: 2000,\n  },\n  timingFunc: {\n    linear: 'linear',\n    easeIn: 'ease-in',\n    easeInOut: 'ease-in-out',\n  },\n  iterations: {\n    once: 1,\n    infinite: 'infinite',\n  },\n  components: {\n    default: styled.span`\n      display: inline-block;\n    `,\n  },\n} as const\n\nexport default config\n","import React from 'react'\nimport styled, { css, Keyframes } from 'styled-components'\nimport { Property } from 'csstype'\nimport config from './globals'\n\n/**\n * Declare valid component types that can be animated.\n */\nexport type ComponentType = keyof JSX.IntrinsicElements | React.FC | React.ComponentType<any>\n\n/**\n * Common properties for all animation components.\n */\nexport interface BaseAnimationProps extends Record<string, any> {\n  component?: ComponentType\n  durationMs?: number\n  timingFunc?: Property.AnimationTimingFunction\n  iterations?: Property.AnimationIterationCount\n}\n\n/**\n * Arguments to animationFactory function.\n */\nexport interface AnimationFactoryProps {\n  keyframes: Keyframes\n  defaultComponent?: ComponentType\n  defaultDurationMs?: number\n  defaultTimingFunc?: Property.AnimationTimingFunction\n  defaultIterations?: Property.AnimationIterationCount\n}\n\n/**\n * Factory function to configure and return an animated function component.\n */\nconst animationFactory = ({\n  keyframes,\n  defaultComponent,\n  defaultDurationMs,\n  defaultTimingFunc,\n  defaultIterations,\n}: AnimationFactoryProps): React.FC<BaseAnimationProps> => {\n  defaultComponent = defaultComponent || config.components.default\n  defaultDurationMs = defaultDurationMs || config.durationMs.slow\n  defaultTimingFunc = defaultTimingFunc || config.timingFunc.linear\n  defaultIterations = defaultIterations || config.iterations.once\n\n  // Configure a function component\n  const Animation: React.FC<BaseAnimationProps> = ({\n    component,\n    durationMs,\n    timingFunc,\n    iterations,\n    children,\n    ...props\n  }) => {\n    // Memoize styled components to avoid regenerating on each render\n    const Component = React.useMemo(() => {\n      const animationCss = css`\n        animation-name: ${keyframes};\n        animation-duration: ${durationMs || defaultDurationMs}ms;\n        animation-timing-function: ${timingFunc || defaultTimingFunc};\n        animation-iteration-count ${iterations || defaultIterations};\n      `\n      // Handle string component declarations\n      if (typeof component === 'string') {\n        // @ts-ignore\n        // prettier-ignore\n        return styled[component]`${animationCss}`\n      }\n      // Handle an undefined (default) component declaration\n      if (typeof component === 'undefined') {\n        // @ts-ignore\n        // prettier-ignore\n        return styled(defaultComponent)`${animationCss}`\n      }\n      // Handle a real component declaration\n      return styled(component)`\n        ${animationCss}\n      `\n    }, [component, keyframes, durationMs, timingFunc, iterations])\n    return <Component {...props}>{children}</Component>\n  }\n  return Animation\n}\n\nexport default animationFactory\n","import React from 'react'\nimport { Keyframes } from 'styled-components'\nimport animationFactory, { BaseAnimationProps } from '../animation-factory'\n\nexport interface AnimationComponentProps extends BaseAnimationProps {\n  keyframes: Keyframes\n}\n\n/**\n * Generic animation component that accepts custom keyframes.\n */\nconst Animation: React.FC<AnimationComponentProps> = ({\n  keyframes,\n  component,\n  durationMs,\n  timingFunc,\n  iterations,\n  children,\n  ...props\n}) => {\n  const AnimatedComponent = React.useMemo(() => {\n    return animationFactory({ keyframes })\n  }, [keyframes])\n  return (\n    <AnimatedComponent\n      component={component}\n      durationMs={durationMs}\n      timingFunc={timingFunc}\n      iterations={iterations}\n      {...props}\n    >\n      {children}\n    </AnimatedComponent>\n  )\n}\n\nexport default Animation\n","import { keyframes } from 'styled-components'\nimport animationFactory from '../animation-factory'\nimport config from '../globals'\n\nexport const rotateKeyframes = keyframes`\n  from { transform: rotate(0deg); }\n  to { transform: rotate(359deg); }\n`\nconst Rotate = animationFactory({\n  keyframes: rotateKeyframes,\n  defaultDurationMs: config.durationMs.slow,\n  defaultTimingFunc: config.timingFunc.linear,\n  defaultIterations: config.iterations.infinite,\n})\n\nexport default Rotate\n","import { keyframes } from 'styled-components'\nimport animationFactory from '../animation-factory'\nimport config from '../globals'\n\nconst fadeInKeyframes = keyframes`\n  from { opacity: 0; }\n  to { opacity: 1; }\n`\nconst FadeIn = animationFactory({\n  keyframes: fadeInKeyframes,\n  defaultDurationMs: config.durationMs.medium,\n  defaultTimingFunc: config.timingFunc.linear,\n  defaultIterations: config.iterations.once,\n})\n\nexport default FadeIn\n","import { keyframes } from 'styled-components'\nimport animationFactory from '../animation-factory'\nimport config from '../globals'\n\nexport const fadeOutKeyframes = keyframes`\n  from { opacity: 1; }\n  to { opacity: 0; }\n`\nconst FadeOut = animationFactory({\n  keyframes: fadeOutKeyframes,\n  defaultDurationMs: config.durationMs.medium,\n  defaultTimingFunc: config.timingFunc.linear,\n  defaultIterations: config.iterations.once,\n})\n\nexport default FadeOut\n"],"names":[],"mappings":"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"}